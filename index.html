<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOUSYS: Decode Your Mind's OS</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VF3S4BSFST"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-VF3S4BSFST');
    </script>

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nousys.github.io/test/">
    <meta property="og:title" content="NOUSYS: Which Greek God Are You?">
    <meta property="og:description" content="Decode your mind‚Äôs Operating System in 60 seconds. ‚ö°">
    <meta property="og:image" content="https://nousys.github.io/test/img/Background.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="NOUSYS: Which Greek God Are You?">
    <meta name="twitter:description" content="Decode your mind‚Äôs Operating System in 60 seconds. ‚ö°">
    <!-- Added: twitter image for better preview -->
    <meta name="twitter:image" content="https://nousys.github.io/test/img/Background.png">
</head>
<body>

<div id="app-settings">
  <button id="restart-btn" type="button" aria-label="Restart">
    <span class="desktop-text">Retake Test</span> ‚Üª
  </button>

  <button id="lang-btn" type="button" aria-label="Language">
    <span id="lang-flag" aria-hidden="true">US</span>
    <span id="lang-code" aria-hidden="true">EN</span>
  </button>

  <button id="settings-btn" type="button" aria-label="Menu" aria-haspopup="menu">
    <span class="mobile-icon">‚ò∞</span>
    <span class="desktop-text">Archetypes ‚ñº</span>
  </button>

  <div id="settings-menu" role="menu" hidden>
    <button class="settings-item" type="button" data-lang="en" role="menuitemradio">
      üá∫üá∏ English <span class="check">‚úì</span>
    </button>
    <button class="settings-item" type="button" data-lang="vi" role="menuitemradio">
      üáªüá≥ Ti·∫øng Vi·ªát <span class="check">‚úì</span>
    </button>
  </div>

  <div id="menu-pop" role="menu" hidden>
    <button id="archetype-accordion-btn" class="settings-item" style="font-weight: 600; justify-content: space-between;">
      Archetypes <span id="accordion-arrow">‚ñº</span>
    </button>

    <div id="archetype-sublist" class="archetype-list" style="display: none; padding-left: 15px; background: rgba(0,0,0,0.2); border-radius: 8px;">
      <a href="?a=Ares" class="settings-item archetype-link">Ares</a>
      <a href="?a=Athena" class="settings-item archetype-link">Athena</a>
      </div>

    <div class="settings-sep"></div>

    <a href="#" class="settings-item" style="opacity: 0.6;">About Theory (Soon)</a>
  </div>
</div>



<div class="container">
    <div id="intro-screen">
        <h1>NOUSYS</h1>

        <!-- Headline -->
        <h3 style="font-family: 'Inter'; font-weight: 300; letter-spacing: 2px; font-size: 1rem;">
            ARCHETYPE DECODER
        </h3>

        <!-- Sub-headline -->
        <p style="text-align: center; margin: 2rem 0; line-height: 1.7;">
            Every mind runs on an Operating System. Some are built for war, others for creation, others for control.
            This tool analyzes your <strong>Energy</strong>, <strong>Control</strong>, and <strong>Threat</strong> systems
            to reveal your mythical archetype.
        </p>

        <!-- 3 Instruction Blocks (Grid) -->
        <div class="instruction-grid">
          <div class="instruction-card">
              <div class="inst-icon">‚öñÔ∏è</div>
              <div class="inst-title">HOW TO CHOOSE</div>
              <div class="inst-desc">
                  <p style="margin-bottom: 15px; font-size: 0.9em;">Use the 1-5 buttons below the story to weigh your choice.</p>
                  
                  <div class="visual-scale-guide">
                      <div class="guide-options">
                          <div class="g-card">Option A</div>
                          <div class="g-card">Option B</div>
                      </div>
                      
                      <div class="guide-buttons-container">
                          <div class="g-line"></div>
                          <div class="g-btn">1</div>
                          <div class="g-btn">2</div>
                          <div class="g-btn">3</div>
                          <div class="g-btn">4</div>
                          <div class="g-btn">5</div>
                      </div>
                      
                      <div class="guide-labels">
                          <div class="g-lbl">Definitely<br>A</div>
                          <div class="g-lbl" style="opacity: 0.6;">Lean<br>A</div>
                          <div class="g-lbl">Neutral</div>
                          <div class="g-lbl" style="opacity: 0.6;">Lean<br>B</div>
                          <div class="g-lbl">Definitely<br>B</div>
                      </div>
                  </div>
              </div>
          </div>

          <div class="instruction-card">
              <div class="inst-icon">‚ö°</div>
              <div class="inst-title">INSTINCT</div>
              <div class="inst-desc">
                  Trust your <strong>first reaction</strong>. Do not overthink.<br><br>
                  Choose what you would <em>actually</em> do under pressure, not what sounds heroic.
              </div>
          </div>
      </div>
      </div>
        <div style="margin: 1rem 0; font-size: 0.85rem; color: #888;">This test is only for entertainment purposes and does not provide a professional psychological assessment.</div>
        <button id="btn-start" type="button" class="btn" onclick="startQuiz()">Initialize System</button>
    </div>

    <div id="quiz-screen" style="display: none;">
        <div class="progress-container">
            <div class="progress-fill" id="progress-bar"></div>
        </div>
        <button type="button"
            id="btn-restart"
            onclick="resetDiagnostic()"
            style="background: transparent; border: 1px solid rgba(255,255,255,0.15); color:#94a3b8; font-size:0.85rem; padding:10px 14px; border-radius:999px; margin-top:12px;">
            Restart
        </button>

        <!-- Added: progress text (dynamic via JS) -->
        <div id="progress-text" style="text-align:center; font-size:0.85rem; opacity:0.7; margin-top:10px;">
            1 / 1
        </div>

        <form id="quiz-form"></form>

        <!-- Added: inline warning (instead of alert) -->
        <p id="quiz-warning" style="display:none; color:#fca5a5; font-size:0.9rem; text-align:center; margin:10px 0 0;">
            Please select an option.
        </p>

        <!-- Added: id for disabling on first question -->
        <button id="btn-prev" type="button" class="btn" onclick="prevQuestion()" style="background: transparent; border: 1px solid rgba(255,255,255,0.2); color: #cbd5e1;">
            Previous Command
        </button>
        <button id="btn-next" type="button" class="btn" onclick="nextQuestion()">Next Command</button>
    </div>

    <div id="result-screen" class="result-view">
        <div style="text-align: center;">
            <p style="letter-spacing: 3px; font-size: 0.8rem; opacity: 0.6; text-transform: uppercase;">System Identification Complete</p>
            <h2 id="result-name" style="font-size: 2.5rem; margin: 0;">ARCHETYPE</h2>
            <p id="result-role" style="color: var(--primary); font-style: italic; margin-top: 5px;">The Role</p>
        </div>

        <img id="result-img" class="card-image" src="" alt="Archetype Card">

        <div class="stat-group">
            <div class="stat-row">
                <span class="stat-label">ENERGY</span>
                <div class="stat-track"><div id="bar-e" class="stat-fill" style="width: 0%"></div></div>
            </div>
            <div class="stat-row">
                <span class="stat-label">CONTROL</span>
                <div class="stat-track"><div id="bar-c" class="stat-fill" style="width: 0%"></div></div>
            </div>
            <div class="stat-row">
                <span class="stat-label">THREAT</span>
                <div class="stat-track"><div id="bar-t" class="stat-fill" style="width: 0%"></div></div>
            </div>
            <div class="stat-row">
                <span class="stat-label">ADAPT</span>
                <div class="stat-track"><div id="bar-s" class="stat-fill" style="width: 0%; background: #10b981;"></div></div>
            </div>
        </div>

        <div class="roast-container">
          <p id="result-roast">Loading...</p>
      </div>

        <div style="position: relative; height: 300px; width: 100%; margin: 18px auto 0;">
            <canvas id="radarChart"></canvas>
        </div>

        <!-- Adaptability Wing (secondary overlay) -->
        <p id="result-wing" style="text-align:center; margin: 14px 0 0; opacity: 0.85;"></p>
        <img id="wing-img" class="card-image"
            src="" alt="Wing Card"
            style="display:none; max-width: 280px; margin: 12px auto 0; border-width: 1px;">

        <div class="content-block">
            <div class="section-title">üñ•Ô∏è YOUR ANALYSIS</div>
            <p id="result-desc">Loading...</p>
        </div>

        <div class="content-block pain-point">
            <div class="section-title" style="color: #f87171;">‚ö†Ô∏è SYSTEM CRASH</div>
            <p id="result-bug">Loading...</p>
        </div>

        <div class="content-block solution">
            <div class="section-title" style="color: #34d399;">üí° SOLUTION </div>
            <p id="result-fix">Loading...</p>
        </div>

        <!-- Premium Guide (always shown) -->
        <div id="premium-block" class="content-block premium-block">
        <div class="section-title">‚ú® PREMIUM GUIDE</div>

        <!-- S-based note: only shown when S exists -->
        <p id="premium-s-note" class="premium-s-note" hidden></p>

        <!-- Always shown -->
        <p id="premium-pitch" class="premium-pitch">
            How do you adapt with different goals or in different environments? The Premium Guide gives you the keys to hack your own mind and upgrade your OS.
            It also show what your archetype looks like in real life, how it interacts with other archetypes, and how to level up or down the spectrum to access new strengths and freedoms.
        </p>

        <!-- Fake door -->
        <button type="button" id="premium-open" class="btn">Unlock Premium Guide ($2.99)</button>

        <!-- Email capture (hidden until click) -->
        <div id="premium-form" class="premium-form" hidden>
            <label class="premium-label" for="premium-email">Email</label>

            <div class="premium-row">
            <input
                id="premium-email"
                class="premium-email"
                type="email"
                placeholder="you@example.com"
                autocomplete="email"
                inputmode="email"
            />
            <button type="button" id="premium-submit" class="btn premium-submit">
                Notify me
            </button>
            </div>

            <p id="premium-status" class="premium-status" role="status" aria-live="polite"></p>
        </div>
        </div>

        <div class="content-block">
            <button type="button" class="btn" onclick="shareResult()">Share Result</button>
            <button type="button" class="btn" onclick="followFacebook()" style="background: transparent; border: 1px solid rgba(255,255,255,0.2); margin-top: 12px; color: #cbd5e1;">
                Follow on Facebook
            </button>
        </div>

        <div class="content-block">
            <div class="section-title">üìù FEEDBACK</div>
            <p style="margin-top: 0;">How accurate was your result?</p>

            <div style="display:flex; align-items:center; gap:12px;">
                <input id="feedback-rating" type="range" min="1" max="10" step="1" value="7" style="flex: 1;">
                <span id="feedback-value">7</span>
            </div>

            <p>Optional feedback:</p>
            <textarea id="feedback-text" rows="3" placeholder="Anything you want to tell us (optional)" style="width:100%;"></textarea>

            <button type="button" class="btn" onclick="submitFeedback()" style="margin-top: 12px;">Send Feedback</button>
            <p id="feedback-status" style="font-size: 0.85rem; opacity: 0.7; display:none; margin-top: 10px;"></p>
        </div>

        <button type="button" class="btn" onclick="resetDiagnostic()" style="background: transparent; border: 1px solid rgba(255,255,255,0.2); margin-top: 30px; color: #cbd5e1;">Restart Diagnostic</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script type="module" src="js/main.js"></script>
<script type="module" src="js/ui/settingsMenu.js"></script>

</body>
</html>
